<div class="dropdown ">
  <button class="btn btn-outline-secondary btn-sm " type="button" data-bs-toggle="dropdown" aria-expanded="false">
    <i class="bi bi-house-door"></i>
    Workspace
    <i class="bi bi-chevron-down ms-2"></i>
  </button>
  <ul class="dropdown-menu" style="width: 300px">
    <div class="d-flex justify-content-center">
      <!-- Updated Search Bar Styles -->
      <div class="input-group w-100 mt-3 px-3">
        <span class="input-group-text" id="basic-addon1">
          <i class="bi bi-search"></i>
        </span>
        <input class="form-control h-auto  bi bi-search px-3"
               type="search"
               placeholder="Search for workspaces..."
               name="search"
               aria-describedby="basic-addon1"
        >
      </div>
    </div>
    <!-- Line between Attachments and Create Button -->
    <hr class="my-2">
    <li>
      <a class="dropdown-item d-flex justify-content-between mt-3" href="#">
        <i class="bi bi-grid-fill"></i>
        Workspace
        <i class="bi bi-check2"></i>
      </a>
    </li>

    <div class="m-2">
      <!-- Added mt-3 for the gap -->
      <h6 class="text-muted fs-6 ">Spaces</h6>
      <li><a class="dropdown-item" href="#"><i class="bi bi-circle-fill text-primary"></i> CLIENT PROJECTS</a></li>
      <li><a class="dropdown-item" href="#"><i class="bi bi-circle-fill text-danger"></i> CAGAN TECH DEV SPACE</a></li>
      <li><a class="dropdown-item" href="#"><i class="bi bi-circle-fill text-warning"></i> MARKETING</a></li>
      <li><a class="dropdown-item" href="#"><i class="bi bi-circle-fill text-success"></i> OUR PRODUCTS</a></li>
      <li><a class="dropdown-item" href="#"><i class="bi bi-circle-fill text-info"></i> Business Development</a></li>
      <li><a class="dropdown-item" href="#"><i class="bi bi-circle-fill text-secondary"></i> Service Desk</a></li>
      <li><a class="dropdown-item" href="#"><i class="bi bi-circle-fill text-dark"></i> Employee Onboarding</a></li>

    </div>

  </ul>
</div>
<div class="tab-pane fade show active" id="chatTab">
  <!-- Added mt-3 for the gap -->
  <input type="text" class="form-control mb-3 mt-3" placeholder="Name this Chat...">
</div>

<div class="message-container">
  <!-- Add Message Textarea -->
  <textarea class="form-control" rows="3" placeholder="Add a message..."
            (focus)="onMessageTextareaFocus()" (blur)="onMessageTextareaBlur()"></textarea>

  <!-- Buttons (initially hidden, will be shown when textarea is focused) -->
  <div class="button-container mt-2" *ngIf="showAttachments">
    <button class="btn btn-no-border btn-sm btn-light  " type="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-bell"></i>
    </button>
    <ul class="dropdown-menu" style="width: 300px;">
      <!-- Search Bar Above User List -->
      <div class="input-group p-2">
           <span class="input-group-text">
        <i class="bi bi-search"></i>
      </span>
        <input
          type="text"
          class="form-control"
          placeholder="Search or enter email..."
          [(ngModel)]="searchQuery"
          (input)="filterUsers()"
        />
      </div>
      <!-- Loop through filtered users -->
      <li *ngFor="let user of filteredUsers">
        <a class="dropdown-item" href="#" (click)="selectUser(user.id)">
          <div class="user-info d-flex align-items-center">
            <!-- User Color Circle -->
            <div class="user-icon" [ngStyle]="{ 'background-color': user.color }">
              <span class="text-white">{{ user.name[0] }}</span> <!-- First letter of the user's name -->
            </div>
            <!-- User Name -->
            <span class="user-name ms-2">{{ user.name }}</span>
          </div>
        </a>
      </li>
    </ul>
    <button class="btn btn-no-border btn-sm btn-light  ms-1" type="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-at"></i>
    </button>
    <button class="btn btn-no-border btn-sm btn-light  ms-1" type="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-check-circle"></i>
    </button>
    <button class="btn btn-no-border btn-sm btn-light  ms-1" type="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-emoji-smile"></i>
    </button>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#">will</a></li>
      <li><a class="dropdown-item" href="#">use</a></li>
      <li><a class="dropdown-item" href="#">api</a></li>
    </ul>
    <button class="btn btn-no-border btn-sm btn-light  ms-1" type="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-slash"></i>
    </button>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#">Option 1</a></li>
      <li><a class="dropdown-item" href="#">Option 2</a></li>
      <li><a class="dropdown-item" href="#">Option 3</a></li>
    </ul>
  </div>
</div>


<!-- Line between Attachments and Create Button -->
<hr class="my-3">
<div class="d-flex justify-content-between align-items-center mt-3">
  <div class="form-check form-switch">
    <input class="form-check-input" type="checkbox" id="privateToggle">
    <label class="form-check-label" for="privateToggle">Private</label>
  </div>

  <div class="d-flex  align-items-center  ms-auto" style="max-width: fit-content;">
    <!-- Notification Bell Icon Button with dropdown -->
    <div class="dropdown">
      <button class="btn btn-no-border ms-2 btn-light" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-bell"></i>
      </button>
      <ul class="dropdown-menu" style="width: 300px;">
        <!-- Search Bar Above User List -->
        <div class="input-group p-2">
           <span class="input-group-text">
        <i class="bi bi-search"></i>
      </span>
          <input
            type="text"
            class="form-control"
            placeholder="Search or enter email..."
            [(ngModel)]="searchQuery"
            (input)="filterUsers()"
          />
        </div>
        <!-- Loop through filtered users -->
        <li *ngFor="let user of filteredUsers">
          <a class="dropdown-item" href="#" (click)="selectUser(user.id)">
            <div class="user-info d-flex align-items-center">
              <!-- User Color Circle -->
              <div class="user-icon" [ngStyle]="{ 'background-color': user.color }">
                <span class="text-white">{{ user.name[0] }}</span> <!-- First letter of the user's name -->
              </div>
              <!-- User Name -->
              <span class="user-name ms-2">{{ user.name }}</span>
            </div>
          </a>
        </li>
      </ul>
    </div>
    <!-- Create Chat Button -->
    <button class="btn btn-primary btn-sm ms-2" (click)="createChat()">Create Chat</button>
  </div>
</div>


