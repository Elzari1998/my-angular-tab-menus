  <ul class="nav nav-tabs" >
    <li class="nav-item" >
      <a class="nav-link" (click)="selectTab('dashboard')"  [class.active]="selectedTab === 'dashboard'">
        <i class="bi bi-grid"></i> Dashboard
      </a>
      <div *ngIf="selectedTab === 'dashboard'" class="dropdown position-absolute top-0 end-0 p-2" style="top: 1cm;" >
        <button class="btn btn-transparent border-0 dropdown-toggle" type="button" id="dropdownMenuButton1"
                data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-gear"></i> Customize
        </button>
        <ul class="dropdown-menu p-4" data-bs-auto-close="false" aria-expanded="false" aria-labelledby="dropdownMenuButton">
          <h6 class="fw-bold mb-3 d-flex justify-content-between align-items-center">Customize View
            <span>
              <button type="button" class="btn btn-close" data-bs-dismiss="dropdown" aria-label="Close"></button>
            </span>
          </h6>

          <div>
            <input type="text" class=" form-control" placeholder="Backlog">
          </div>

          <li><a class="dropdown-item d-flex justify-content-between align-items-center" href="#">
            <span> <i class="bi bi-list-ul "></i></span> Layout Options
            <span> <i class="ms-5 bi bi-chevron-right"></i></span>
          </a>
          </li>
          <li><hr class="dropdown-divider"></li>
          <li>
            <a class="dropdown-item d-flex justify-content-between align-items-center" href="#" (click)="openPanel('fields')">
              <span>
                <i class="bi bi-pencil me-2"></i> Fields
              </span>
              <span class="text-muted">5 shown <i class="bi bi-chevron-right"></i></span>
            </a>
          </li>
          <li class="subtask-container w-100" >
            <a class="dropdown-item d-flex justify-content-between align-items-center" href="#" role="button"
               data-bs-toggle="dropdown" aria-expanded="false" (click)="preventRefreshingThePage($event)">
                <span class="d-flex align-items-center subtask-item">
                  <i class="bi bi-funnel me-2"></i> Filter
                </span>
              <span class="text-muted ms-5">None<i class="bi bi-chevron-right"></i></span>
            </a>

            <div class="options-box dropdown-menu-end w-200 px-4"  style="width: 400px; transform: translateX(-6cm);">
              <ul class="list-styled w-100 ">
                <li class="px-3 text-muted">Filter </li>
                <li>
                  <input type="text" class="form-control w-100" placeholder="Select filter..." (input)="filterOptions($event)">
                </li>

                <li>
                  <a class="dropdown-item d-flex justify-content-between align-items-left w-100" href="#" (click)="preventRefreshingThePage($event)">
                    <i class="bi bi-plus-circle ms-2"></i>
                       Nested filter

                  </a>
                </li>
                <li>
                  <a class="dropdown-item d-flex justify-content-between align-items-left w-100" href="#" (click)="preventRefreshingThePage($event)">
                    <i class="bi bi-plus-circle ms-2"></i>
                    Add filter

                  </a>
                </li>
              </ul>
            </div>
          </li>
          <li>
            <a class="dropdown-item d-flex justify-content-between align-items-center" href="#">
              <span class="d-flex align-items-center">
                <i class="bi bi-layers me-2"></i>
                Group
              </span>
              <span class=" text-muted ">Type <i class=" bi bi-chevron-right"></i>  </span>
            </a>
          </li>
          <li class="subtask-container" >
            <a  class="dropdown-item d-flex justify-content-between align-items-center " href="#"  role="button" data-bs-toggle="dropdown" aria-expanded="false"
                (click)="preventRefreshingThePage($event)">
              <span  class="d-flex align-items-center subtask-item"><i class="bi bi-link me-2"></i> Subtasks</span>
              <span class="text-muted ms-5">{{ selectedOption }} <i class="bi bi-chevron-right"></i></span>
            </a>

            <div class="options-box">
              <ul >
                <li class="px-3 text-muted">Show subtasks</li>
                <li><a class="dropdown-item active" href="#"  [class.active]="selectedOption === 'Collapsed'"
                       (click)="selectOption('Collapsed', $event)"> Collapsed </a></li>
                <li><a class="dropdown-item" href="#"  [class.active]="selectedOption === 'Expanded'"
                       (click)="selectOption('Expanded', $event)" >Expanded</a></li>
                <li><a class="dropdown-item" href="#" [class.active]="selectedOption === 'Separate'"
                       (click)="selectOption('Separate', $event)" >Separate</a></li>
              </ul>
            </div>

          </li>

          <li class="subtask-container" >
            <a  class="dropdown-item d-flex justify-content-between align-items-center " href="#"  (click)="preventRefreshingThePage($event)">
              <span  class="d-flex align-items-center subtask-item"><i class="bi bi-magic me-2"></i> Templates</span>
              <span class="text-muted ms-5"> <i class="bi bi-chevron-right ms-5"></i></span>
            </a>

            <div class="options-box w-100">
              <ul >
                <li class="px-3 text-muted"></li>
                <li><a class="dropdown-item active" href="#" (click)="preventRefreshingThePage($event)"  > <i class="bi bi-columns"> Browse Templates</i> </a></li>
                <li><a class="dropdown-item" href="#" (click)="preventRefreshingThePage($event)" ><i class="bi bi-floppy"> Save as Template </i> </a></li>
                <li><a class="dropdown-item" href="#" (click)="preventRefreshingThePage($event)" > <i class="bi bi-arrow-repeat">Upload Existing Template </i></a></li>
              </ul>
            </div>

          </li>

          <li><hr class="dropdown-divider"></li>
          <li class="dropdown-item">
            <label class="d-flex justify-content-between align-items-center">
              <span>Autosave for me</span>
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" [(ngModel)]="autosave" role="switch" id="autosaveSwitch">
              </div>
            </label>
          </li>
          <li class="dropdown-item">
            <label class="d-flex justify-content-between align-items-center">
              <span>Pin view</span>
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" [(ngModel)]="pinView" role="switch" id="pinViewSwitch">
              </div>
            </label>
          </li>
          <li class="dropdown-item">
            <label class="d-flex justify-content-between align-items-center">
              <span>Private view</span>
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" [(ngModel)]="privateView" role="switch" id="privateViewSwitch">
              </div>
            </label>
          </li>
          <li class="dropdown-item">
            <label class="d-flex justify-content-between align-items-center">
              <span>Protect view</span>
              <div class="form-check form-switch">
                <input  class="form-check-input" type="checkbox" [(ngModel)]="protectedView" role="switch" id="protectedViewSwitch">
              </div>
            </label>
          </li>
          <li class="dropdown-item">
            <label class="d-flex justify-content-between align-items-center">
              <span>Set as default view</span>
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" [(ngModel)]="defaultView" role="switch" id="defaultViewSwitch">
              </div>
            </label>
          </li>

          <li><hr class="dropdown-divider"></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="#"><span><i class="bi bi-link-45deg me-2"></i></span>Copy link to view</a></li>
          <li><a class="dropdown-item" href="#"><span><i class="bi bi-star me-2"></i></span>Add to favorites</a></li>
          <li><a class="dropdown-item" href="#"><span><i class="bi bi-download me-2"></i></span>Export view</a></li>
          <li><a class="dropdown-item" href="#"><span><i class="bi bi-share me-2"></i></span>Sharing & Permissions</a></li>

        </ul>
        <div *ngIf="activePanel === 'fields'" class="sidebar p-4" >
          <button class="btn btn-link p-0 mb-2" (click)="openPanel('homeFields')">
            <i class="bi bi-arrow-left"></i> Fields
          </button>

          <input type="text" placeholder="Create or search for fields" class="form-control my-2">
          <h6 class="text-muted fs-6 d-flex justify-content-between">Shown <span class="" type="button"> Hide all</span></h6>

          <ul>
            <li *ngFor="let field of fields; let i = index" class="d-flex align-items-center justify-content-between mb-2">
              <i class="bi bi-grip-vertical text-muted me-2"></i>
              <div class="d-flex align-items-center flex-grow-1">
                <small [class]="field.icon" class="me-2"></small>
                <span class="flex-grow-1">{{ field.name }}</span>
              </div>


              <label class="d-flex align-items-center">
                <div class="form-check form-switch ">
                  <input class="form-check-input" type="checkbox" [(ngModel)]="field.enabled" [id]="'fieldSwitch' + i">
                </div>
              </label>
            </li>

            <h6 class="text-muted fs-6 ">Popular </h6>
            <li  *ngFor="let popularField of popularFields; let i=index"  class="d-flex align-items-center justify-content-between mb-2">
              <div class="d-flex align-items-center flex-grow-1">
                <small [class]="popularField.icon" class="me-2"></small>
                <span class="flex-grow-1">{{ popularField.name }}</span>
              </div>
              <label class="d-flex align-items-center">
                <div class="form-check form-switch ">
                  <input class="form-check-input" type="checkbox" [(ngModel)]="popularField.enabled" [id]="'popularFieldSwitch' + i">
                </div>
              </label>
            </li>

            <h6 class="text-muted fs-6 ">Hidden </h6>
            <li  *ngFor="let hiddenFields of hidden; let i=index"  class="d-flex align-items-center justify-content-between mb-2">
              <div class="d-flex align-items-center flex-grow-1">
                <small [class]="hiddenFields.icon" class="me-2"></small>
                <span class="flex-grow-1">{{ hiddenFields.name }}</span>
              </div>
              <label class="d-flex align-items-center">
                <div class="form-check form-switch ">
                  <input class="form-check-input" type="checkbox" [(ngModel)]="hiddenFields.enabled" [id]="'hiddenFieldsSwitch' + i">
                </div>
              </label>
            </li>

            <h6 class="text-muted fs-6 ">Fields in Workspace </h6>
            <li  *ngFor="let fieldinWorkspace of fieldsInWorkspace; let i=index"  class="d-flex align-items-center justify-content-between mb-2">
              <div class="d-flex align-items-center flex-grow-1">
                <small [class]="fieldinWorkspace.icon" class="me-2"></small>
                <span class="flex-grow-1">{{ fieldinWorkspace.name }}</span>
                <span><button class="btn btn-primary"> add</button> </span>
              </div>
            </li>

          </ul>

          <button class="btn btn-primary w-100 mt-2" (click)="openPanel('creatingNewField')">Create field</button>
        </div>

        <div *ngIf="activePanel === 'creatingNewField'" class="sidebar p-4">
          <button class="btn btn-link p-0 mb-2" (click)="openPanel('fields')">
            <i class="bi bi-arrow-left"></i> Create field
          </button>
          <input type="text" placeholder="Create or search for fields" class="form-control my-2">

          <h6 class="text-muted fs-6">Suggested </h6>
          <ul>
            <li *ngFor="let creatingNewField of creatingNewFieldsItems; let i = index" class="d-flex align-items-center justify-content-between mb-2">
              <div class="d-flex align-items-center flex-grow-1">
                <small [class]="creatingNewField.icon" class="me-2"></small>
                <span class="flex-grow-1">{{ creatingNewField.name }}</span>
                <hr>
              </div>
            </li>

          </ul>
        </div>


      </div>



    </li>







    <li class="nav-item">
      <a class="nav-link" (click)="selectTab('backlog')" [class.active]="selectedTab === 'backlog'">
        <i class="bi bi-list"></i> Backlog
      </a>
      <div *ngIf="selectedTab === 'backlog'" class="dropdown position-absolute top-0 end-0 p-2" style="top: 1cm;">
        <button class="btn btn-transparent border-0 dropdown-toggle" type="button" id="dropdownMenuButton2"
                data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-gear"></i> Customize
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <li><a class="dropdown-item" href="#">Option 1</a></li>
          <li><a class="dropdown-item" href="#">Option 2</a></li>
          <li><a class="dropdown-item" href="#">Option 3</a></li>
        </ul>
      </div>
    </li>
    <li class="nav-item">
      <a class="nav-link" (click)="selectTab('statusBoard')" [class.active]="selectedTab === 'statusBoard'">
        <i class="bi bi-kanban"></i> Status Board
      </a>
      <div *ngIf="selectedTab === 'statusBoard'" class="dropdown position-absolute top-0 end-0 p-2" style="top: 1cm;">
        <button class="btn btn-transparent border-0 dropdown-toggle" type="button" id="dropdownMenuButton3"
                data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-gear"></i> Customize
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <li><a class="dropdown-item" href="#">Option 1</a></li>
          <li><a class="dropdown-item" href="#">Option 2</a></li>
          <li><a class="dropdown-item" href="#">Option 3</a></li>
        </ul>
      </div>
    </li>
    <li class="nav-item">
      <a class="nav-link" (click)="selectTab('board')" [class.active]="selectedTab === 'board'">
        <i class="bi bi-columns"></i> Board
      </a>
      <div *ngIf="selectedTab === 'board'" class="dropdown position-absolute top-0 end-0 p-2" style="top: 1cm;">
        <button class="btn btn-transparent border-0 dropdown-toggle" type="button" id="dropdownMenuButton4"
                data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-gear"></i> Customize
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <li><a class="dropdown-item" href="#">Option 1</a></li>
          <li><a class="dropdown-item" href="#">Option 2</a></li>
          <li><a class="dropdown-item" href="#">Option 3</a></li>
        </ul>
      </div>
    </li>
    <li class="nav-item">
      <a class="nav-link" (click)="selectTab('guide')" [class.active]="selectedTab === 'guide'">
        <i class="bi bi-book"></i> Getting Started Guide
      </a>
      <div *ngIf="selectedTab === 'guide'" class="dropdown position-absolute top-0 end-0 p-2" style="top: 1cm;">
        <button class="btn btn-transparent border-0 dropdown-toggle" type="button" id="dropdownMenuButton5"
                data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-gear"></i> Customize
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <li><a class="dropdown-item" href="#">Option 1</a></li>
          <li><a class="dropdown-item" href="#">Option 2</a></li>
          <li><a class="dropdown-item" href="#">Option 3</a></li>
        </ul>
      </div>
    </li>
    <li class="nav-item">
      <a class="nav-link" (click)="selectTab('list')" [class.active]="selectedTab === 'list'">
        <i class="bi bi-list-check"></i> List
      </a>
      <div *ngIf="selectedTab === 'list'" class="dropdown position-absolute top-0 end-0 p-2" style="top: 1cm;">
        <button class="btn btn-transparent border-0 dropdown-toggle" type="button" id="dropdownMenuButton6"
                data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-gear"></i> Customize
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <li><a class="dropdown-item" href="#">Option 1</a></li>
          <li><a class="dropdown-item" href="#">Option 2</a></li>
          <li><a class="dropdown-item" href="#">Option 3</a></li>
        </ul>
      </div>
    </li>
  </ul>

  <!-- Tab Content -->
  <div class="tab-content mt-3">
    <div *ngIf="selectedTab === 'dashboard'">Dashboard Content</div>
    <div *ngIf="selectedTab === 'backlog'">Backlog Content</div>
    <div *ngIf="selectedTab === 'statusBoard'">Status Board Content</div>
    <div *ngIf="selectedTab === 'board'">Board Content</div>
    <div *ngIf="selectedTab === 'guide'">Getting Started Guide Content</div>
    <div *ngIf="selectedTab === 'list'">List Content</div>
  </div>
